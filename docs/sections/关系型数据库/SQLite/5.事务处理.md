# 事务处理

事务是一个操作序列，这些操作要么全部成功执行，要么全部失败。事务具有以下四个属性（通常称为ACID属性）：

- 原子性（Atomicity）：事务中的所有操作要么全部完成，要么全部不完成。
- 一致性（Consistency）：事务必须确保数据库从一个一致性状态转换到另一个一致性状态。
- 隔离性（Isolation）：在事务执行过程中，其他事务不能访问正在修改的数据。
- 持久性（Durability）：一旦事务成功完成，其对数据库的更改必须永久保存。

以下是如何在SQLite中使用事务处理的示例：

## 一、开始事务

要开始一个新事务，可以使用`BEGIN TRANSACTION`或`BEGIN`语句。例如：

```sql
BEGIN TRANSACTION;
```

或

```sql
BEGIN;
```

## 二、执行操作

在事务中，您可以执行插入、更新和删除操作。例如：

```sql
INSERT INTO employees (id, first_name, last_name, email, hire_date)
VALUES (1, 'John', 'Doe', 'john.doe@example.com', '2022-01-01');

UPDATE employees
SET email = 'johndoe@example.com', hire_date = '2022-01-02'
WHERE id = 1;

DELETE FROM employees WHERE id = 1;
```

## 三、提交事务

要提交事务并将对数据库的更改永久保存，可以使用`COMMIT`语句。例如：

```sql
COMMIT;
```

在执行`COMMIT`语句后，事务中的所有操作将永久保存到数据库。

## 四、回滚事务

要回滚事务并取消所有未提交的更改，可以使用`ROLLBACK`语句。例如：

```sql
ROLLBACK;
```

在执行`ROLLBACK`语句后，事务中的所有操作将被撤消，数据库将恢复到事务开始时的状态。

现在，您已经了解了如何在SQLite中使用事务处理。在实际应用中，请确保使用事务来维护数据的完整性和一致性，特别是在执行多个相关操作时。