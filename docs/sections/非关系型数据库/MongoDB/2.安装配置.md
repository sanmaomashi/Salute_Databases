# 安装MongoDB

MongoDB可以在多个平台上安装和运行，包括Windows、macOS和各种Linux发行版。

## 一、Linux安装MongoDB

1. 打开终端并更新软件包列表

   ```bash
   sudo apt-get update
   ```

2. 添加MongoDB的官方软件源密钥

   ```bash
   wget -qO - https://www.mongodb.org/static/pgp/server-5.0.asc | sudo apt-key add -
   ```

3. 添加MongoDB的官方软件源

   ```bash
   echo "deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu $(lsb_release -sc)/mongodb-org/5.0 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-5.0.list
   ```

4. 再次更新软件包列表

   ```bash
   sudo apt-get update
   ```

5. 安装MongoDB

   ```bash
   sudo apt-get install -y mongodb-org
   ```

6. 启动MongoDB服务

   ```bash
   sudo systemctl start mongod
   ```

7. 验证MongoDB服务已经启动

   ```bash
   sudo systemctl status mongod
   ```

如果服务正常启动，输出应该显示服务状态为“active (running)”。在Ubuntu Linux中，MongoDB的默认数据目录为/var/lib/mongodb，并且服务默认监听27017端口。

安装完毕后，您可以使用MongoDB的命令行工具mongo来与MongoDB进行交互。您可以使用以下命令打开mongo shell：

```bash
mongo
```

安装完成后，您还可以使用可视化工具，如Robo 3T或MongoDB Compass，来连接和管理MongoDB实例。

## 二、Docker拉取MongoDB

在Docker中拉取MongoDB的步骤如下：

1. 打开终端并运行以下命令来拉取最新的MongoDB Docker镜像：

   ```bash
   docker pull mongo
   ```

2. 拉取完成后，您可以运行以下命令来创建并启动MongoDB容器：

   ```bash
   docker run -d -p 27017:27017 --name mongodb mongo
   ```

   在此命令中，我们使用`-d`选项将容器设置为后台运行模式，`-p`选项将容器的端口映射到主机的27017端口，`--name`选项设置容器的名称为"mongodb"，最后我们指定要运行的Docker镜像为"mongo"。

3. 您可以运行以下命令来验证MongoDB容器是否已成功启动：

   ```bash
   docker ps
   ```

   此命令应该会列出所有正在运行的Docker容器，您应该能够在输出中看到名称为"mongodb"的容器。

4. 您现在可以使用任何MongoDB客户端连接到运行中的MongoDB容器。默认情况下，容器将MongoDB的数据存储在容器内部的"/data/db"目录中。如果您需要将数据保存到主机上，请使用Docker卷来映射主机目录到容器目录，例如：

   ```bash
   docker run -d -p 27017:27017 -v /my/local/data:/data/db --name mongodb mongo
   ```

   在此命令中，我们使用`-v`选项将主机的"/my/local/data"目录映射到容器的"/data/db"目录中。